# Project 2: Rekall Corp./Offensive Security CTF</h1>
Access to Penetration Report: <a href="https://docs.google.com/document/d/1zfVIe7LJ8fOoi3NC7aC5xWmRKBWl9SUO54s5z5DAnKU/edit?usp=sharing"> Rekall Corp. Penetration Test Report
## Objective Summary
This project highlights offensive security techniques practiced during the University of California, Irvine's Cybersecurity Boot Camp. It involved simulating penetration testing on the fictional Rekall Corporation to uncover and exploit vulnerabilities within their web application, Linux servers, and Windows. The objective was to identify potential security weaknesses and demonstrate real-world offensive security methodologies through a Capture the Flag (CTF) style competition.
 
## Project Highlights
Key Achievements:
- Conducted penetration testing on Rekall's web application, Linux, and Windows servers.
- Identified critical vulnerabilities and simulated exploits to assess their impact.
- Delivered actionable remediation strategies to enhance Rekall's security posture.

### Technical Skills Gained
- Web Application Security:
   - Exploited web application vulnerabilities using tools like Burp Suite and Metasploit.
   - Gained hands-on experience in identifying OWASP Top 10 risks.
- Server Security:
   - Performed vulnerability scans and privilege escalation on Linux and Windows servers.
   - Explored common misconfigurations and server-specific exploits.
- Penetration Testing Methodology:
   - Followed a structured five-phase penetration testing process: Reconnaissance, Scanning, Exploitation, Persistence, and Privilege Escalation.
- OSINT & Reconnaissance:
   - Leveraged tools like OSINT Framework, Google Dorking, Shodan.io, and GitHub for information gathering.

### Tools & Environments Used
| Category                                      | Tools Used       |
|-----------------------------------------------|----------------------------|
| <b>Penetration Testing Tools</b>       | Metasploit, Searchsploit, MsVenom |
| <b>Vulnerability Scanning</b>  |  Nmap, Zenmap, Nessus | 
| <b>Web Application Testing</b> | Burp Suite | 
| <b>OSINT Tools</b> | OSINT Framework, Google, GitHub, Shodan.io | 
| <b>Virtual Environments</b> |  Kali Linux, Windows 10, Hyper-V Manager, Azure Windows VMs | 




## Project Write up
### Scenario Overview:
Rekall Corporation is a fictional company offering personalized virtual reality experiences based on customer-uploaded images. These experiences range from dream vacations to secret missions, designed to feel incredibly real. Before launching their business, Rekall hired penetration testers (CTP, LLC) to identify and mitigate vulnerabilities in their web applications and server infrastructure, ensuring a secure platform for their customers.

### Summary of Project Steps 
1. <b>Reconnaissance</b>
Gathered publicly available information using Google Dorking and OSINT tools to uncover:
- Exposed sensitive data (e.g., domain ownership, SSL certificate details, internal contacts).
- Rekall’s server details and open ports.
- Hidden admin credentials embedded in HTML elements.

Data Exposure Example:
- using osintframework.com and Domain Dossier
- Using crt.sh to verify SSL certificate 

Google Dorking Example:
- site: Github.com intext:totalrekall
_____________
2. <b>Scanning & Enumeration</b>
Performed Nmap and Nessus scans to discover network assets and vulnerabilities:
- Detected open ports and running services on Linux and Windows servers.
- Identified outdated services with known vulnerabilities (e.g., Apache Tomcat, Shellshock).

Nmap Scan Command Example:
- nmap -sV rekall.xyz
_____________
3. <b>Exploiting Web Application Vulnerabilities</b>
Exploited multiple security weaknesses in the Rekall web application:
- Cross-Site Scripting (XSS) Attacks:
  - Injected malicious scripts into login, memory planner, and comments sections.
  - Demonstrated how attackers could steal session cookies and impersonate users.
- SQL Injection:
  - Used an always-true statement (' OR '1'='1' --) to bypass authentication.
  - Gained access to Rekall’s user and admin accounts.
- File Inclusion Attacks:
  - Bypassed upload restrictions by renaming files from .jpg to .jpg.php.
  - Uploaded a malicious PHP shell to gain remote code execution.
- Command Injection:
  - Manipulated disclaimer.php to extract sensitive system files.
  - Uncovered robots.txt and vendors.txt, revealing security vendor details.
_____________
4. <b>Linux Server Exploitation</b>
Used open-source intelligence (OSINT) tools and Metasploit to exploit vulnerabilities:
- OSINT Discovery:
  - Identified publicly exposed credentials and domain ownership details.
- Vulnerability Scanning:
  - Discovered exposed SSL certificates and outdated Apache Tomcat versions.
- Privilege Escalation:
  - Exploited weak password policies to gain root access.
  - Used passwd file enumeration to extract additional credentials.
_____________
5. <b>Windows Server Exploitation</b>
Attacked Rekall’s Windows 10 server and internal infrastructure:
- Credential Exposure:
  - Found plaintext credentials stored in internal web pages.
  - Used Metasploit’s hash dump to extract NTLM hashes.
- Exploiting Weak Services:
  - Discovered vulnerable services such as SLMail and FTP.
  - Used Metasploit payloads to escalate privileges and gain SYSTEM access.
- Persistence & Data Exfiltration:
  - Created backdoor user accounts for persistent access.
  - Used lsa dump to extract Windows Security Account Manager (SAM) data.

Windows Credential Dump Example:
- load kiwi
  - lsa::samdump
_____________
### Conclusion
CTP’s penetration test successfully uncovered critical security vulnerabilities within Rekall Corp’s infrastructure. The test demonstrated how weak password policies, exposed credentials, and outdated services could be exploited to gain unauthorized access.

#### Key Takeways:
- <b>Strengthen Password Policies:</b> Enforce multi-factor authentication and strong password requirements.
- <b>Patch & Update Systems:</b> Regularly update Linux and Windows services to mitigate known vulnerabilities.
- <b>Secure Open Ports:</b> Restrict unnecessary services and implement firewall rules.
- <b>Monitor for Unauthorized Access:</b> Deploy intrusion detection systems (IDS) to detect suspicious activity.
- <b>Enforce Input Validation:</b> Implement server-side and client-side input validation to prevent XSS, SQL Injection, and command injection attacks.


